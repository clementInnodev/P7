<div class="container">
    <div class="row">
        <div class="col-4 offset-4 shadow-lg border rounded my-5 p-5">
            <img src="../../assets/images/FireShot Capture 040 - Modifier une image - ResizePixel - www.resizepixel.com.png" alt="Logo Groupomania en couleur" class="auth-logo-login mt-4 w-100">
            <h2 class="mt-4">Déjà inscrit ?</h2>
            <form #f="ngForm" (ngSubmit)="onSubmitForm(f)" class="mt-4">
                <ng-container *ngIf="!successMessage else success">
                    <div>
                        <label class="form-label" for="email">Email</label>
                        <input [ngClass]="{'is-valid': email.valid, 'is-invalid': (email.invalid && email.touched) || (email.invalid && f.submitted)}" class="form-control" type="email" name="email" id="email" #email="ngModel" ngModel required email>
                        <div *ngIf="(email.invalid && email.touched && email.value === '') || (email.invalid && f.submitted && email.value === '')" class="invalid-feedback">Veuillez renseigner un email.</div>
                        <div *ngIf="(email.invalid && email.touched  && email.value !== '') || (email.invalid && f.submitted && email.value !== '')" class="invalid-feedback">Veuillez renseigner un email valide.</div>
                    </div>
                    <div class="mt-3">
                        <label class="form-label" for="password">Mot de passe</label>
                        <input class="form-control" type="password" name="password" id="password" #password="ngModel" ngModel required>
                    </div>
                    <div class="d-flex justify-content-end mt-3">
                        <a routerLink="../forgotten-password" class="link">Mot de passe oublié ?</a>
                    </div>
                </ng-container>

                <ng-container *ngIf="errorMessage">
                    <div class="alert alert-danger my-3">
                        {{errorMessage}}
                    </div>
                </ng-container>
                
                <ng-template #success>
                    <div class="alert alert-success my-3">
                        Connexion réussie <i class="fa-solid fa-spinner fa-spin"></i>
                    </div>
                </ng-template>

                <div class="d-flex justify-content-center mt-3">
                    <button class="btn btn-primary w-100">Se connecter</button>
                </div>
            </form>
            <h3 class="mt-4">Nouveau venu ?</h3>
            <a class="btn btn-outline-primary w-100 mt-3" routerLink="../signup">Créer un compte</a>
        </div>
    </div>
</div>